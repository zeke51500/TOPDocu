!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).markdownitMystExtra={})}(this,(function(e){"use strict";function t(e,t,r,n){let o=e.bMarks[t]+e.tShift[t],s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if("%"!==e.src[o])return!1;if(n)return!0;const c=e.push("myst_line_comment","",0);let l;for(c.attrSet("class","myst-line-comment"),c.content=e.src.slice(o+1,s).replace(/\s+$/gm,""),c.markup="%",l=t+1;l<r&&(o=e.bMarks[l]+e.tShift[l],s=e.eMarks[l],"%"===e.src[o]);l++)c.content+="\n"+e.src.slice(o+1,s).replace(/\s+$/gm,"");return e.line=l,c.map=[t,l],!0}function r(e,t,r,n){let o=e.bMarks[t]+e.tShift[t];const s=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;const c=e.src.charCodeAt(o);if(o+=1,43!==c)return!1;let l=1;for(;o<s;){const t=e.src.charCodeAt(o);if(t!==c&&!e.md.utils.isSpace(t))break;t===c&&(l+=1),o+=1}if(l<3)return!1;if(n)return!0;e.line=t+1;const i=e.push("myst_block_break","hr",0);return i.attrSet("class","myst-block"),i.content=e.src.slice(o,s).trim(),i.map=[t,e.line],i.markup=e.md.utils.fromCodePoint(c).repeat(l),!0}const n=/^\((?<label>[a-zA-Z0-9|@<>*./_\-+:]{1,100})\)=\s*$/;function o(e,t,r,o){const s=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;const l=n.exec(e.src.slice(s,c));if(!l)return!1;if(o)return!0;e.line=t+1;const i=e.push("myst_target","",0);return i.attrSet("class","myst-target"),i.content=l&&l.groups?l.groups.label:"",i.map=[t,e.line],!0}function s(e,t){const r=e[t].content;return`\x3c!-- ${(n=r,n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")).trim()} --\x3e`;var n}function c(e,t){const r=e[t].content;return`<div class="myst-target">${`<a href="#${r}">(${r})=</a>`}</div>`}function l(e,t,r,n){let o=!1,s=e.bMarks[t]+e.tShift[t],c=e.eMarks[t];if(e.sCount[t]-e.blkIndent>=4)return!1;if(s+3>c)return!1;const l=e.src.charCodeAt(s);if(58!==l)return!1;let i=s;s=e.skipChars(s,l);let a=s-i;if(a<3)return!1;const f=e.src.slice(i,s),u=e.src.slice(s,c);if(n)return!0;let p=t;for(;(p++,!(p>=r))&&(s=i=e.bMarks[p]+e.tShift[p],c=e.eMarks[p],!(s<c&&e.sCount[p]<e.blkIndent));)if(e.src.charCodeAt(s)===l&&!(e.sCount[p]-e.blkIndent>=4||(s=e.skipChars(s,l),s-i<a||(s=e.skipSpaces(s),s<c)))){o=!0;break}a=e.sCount[t],e.line=p+(o?1:0);const k=e.push("fence","code",0);return k.info=u,k.content=e.getLines(t+1,p,a,!0),k.markup=f,k.map=[t,e.line],!0}e.colonFencePlugin=function(e){e.block.ruler.before("fence","colon_fence",l,{alt:["paragraph","reference","blockquote","list","footnote_def"]})},e.mystBlockPlugin=function(e){e.block.ruler.before("blockquote","myst_line_comment",t,{alt:["paragraph","reference","blockquote","list","footnote_def"]}),e.block.ruler.before("hr","myst_block_break",r,{alt:["paragraph","reference","blockquote","list","footnote_def"]}),e.block.ruler.before("hr","myst_target",o,{alt:["paragraph","reference","blockquote","list","footnote_def"]}),e.renderer.rules.myst_line_comment=s,e.renderer.rules.myst_target=c},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
