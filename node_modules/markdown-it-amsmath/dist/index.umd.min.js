!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).markdownitAmsmath={})}(this,(function(e){"use strict";function t(e,t){e.block.ruler.before("blockquote","amsmath",r,{alt:["paragraph","reference","blockquote","list","footnote_def"]});const n=null==t?void 0:t.renderer;e.renderer.rules.amsmath=n?(t,r)=>{const o=t[r].content;let i;try{i=n(o)}catch(t){i=e.utils.escapeHtml(`${o}:${t.message}`)}return i}:(t,n)=>`<div class="math amsmath">\n${e.utils.escapeHtml(t[n].content)}\n</div>\n`}const n=new RegExp(`^\\\\begin{(${["equation","multline","gather","align","alignat","flalign","matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","eqnarray"].join("|")})([*]?)}`);function r(e,t,r,o){if(e.sCount[t]-e.blkIndent>=4)return!1;const i=e.bMarks[t]+e.tShift[t],a=function(e){const t=e.match(n);if(!t)return null;const[,r,o]=t,i=`\\end{${r}${o}}`,a=e.indexOf(i);return-1===a?null:{environment:r,numbered:o,endpos:a+i.length}}(e.src.slice(i));if(!a)return!1;const{environment:s,numbered:l}=a;let{endpos:m}=a;m+=i;let u=t;for(;u<r;){if(m>=e.bMarks[u]&&m<=e.eMarks[u]){e.line=u+1;break}u+=1}if(!o){const n=e.push("amsmath","math",0);n.block=!0,n.content=e.src.slice(i,m),n.meta={environment:s,numbered:l},n.map=[t,u]}return!0}e.amsmathPlugin=t,e.default=t,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.umd.min.js.map
